<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HearthGlow — Family Hearth</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@event-calendar/build@5.3.1/dist/event-calendar.min.css">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <main class="hearth">
    <div class="logo-wrap">
      <img src="/logo.png" alt="HearthGlow" class="site-logo" />
    </div>
    <header>
      <p class="tagline">A warm place for your shared family calendar and little victories.</p>
    </header>

    <nav class="tabs">
      <button id="tab_landing" class="tab active">Home</button>
      <button id="tab_stars" class="tab">Star Charts</button>
      <button id="tab_admin" class="tab">Admin</button>
    </nav>

    <section id="landing" class="card calendar-home">
      <div class="calendar-header">
        <h2 style="flex: 1; margin: 0;">Family Calendar</h2>
        <button id="event_form_toggle" class="toggle-btn">+ Add Event</button>
      </div>
      
      <div id="event_form_panel" class="event-form-panel hidden">
        <div class="event-form-content">
          <label>Person <select id="event_person"></select></label>
          <label>Event title <input id="event_title" placeholder="Movie night" /></label>
          <label>Start time <input id="event_start" type="datetime-local" /></label>
          <label>End time <input id="event_end" type="datetime-local" /></label>
          <button id="event_add">Add Event</button>
          <div id="event_result" class="muted"></div>
          <p class="small calendar-help">Tip: click a time slot to prefill the form.</p>
        </div>
      </div>

      <div class="calendar-layout">
        <div id="calendar" class="calendar-shell ec-dark"></div>
      </div>
    </section>

    <section id="stars" class="card hidden stars-focus">
      <div class="stars-hero">
        <h2>Star Charts</h2>
        <p class="stars-subtitle">Tap a chart to add a shiny star ⭐</p>
      </div>
      <ul id="stars_focus_list" class="stars-grid"></ul>
    </section>

    <section id="admin" class="card hidden">
      <h2>Create Person</h2>
      <label>First name <input id="first_name" /></label>
      <label>Last name <input id="last_name" /></label>
      <div class="admin-create-person-row">
        <label>Color <input id="calendar_color" type="color" value="#FF6B9D" /></label>
      </div>
      <button id="create_person">Create</button>
      <div id="create_person_result" class="muted"></div>

      <hr />

      <h2>View Person</h2>
      <label>First name <input id="view_name" /></label>
      <button id="view_person">View</button>

  <section id="person_area" class="card hidden">
        <h2 id="person_name">Person</h2>
        <div id="person_details"></div>

        <h3>Create Star Chart</h3>
        <label>Chart name <input id="chart_name" /></label>
        <label>Description <input id="chart_description" /></label>
        <label>Initial stars <input id="chart_count" type="number" value="0" /></label>
        <label>Total goal <input id="chart_total" type="number" value="10" /></label>
        <button id="create_chart">Create Chart</button>
        <div id="chart_result" class="muted"></div>

        <h3>Charts</h3>
        <ul id="charts_list" class="charts"></ul>
      </section>
      <hr />
      <h2>Admin Tools</h2>
      <h3>People</h3>
      <ul id="admin_people_list" class="charts"></ul>

      <h3>All Star Charts</h3>
      <ul id="admin_stars_list" class="charts"></ul>
      
  <hr />
  <h3>Create Star Chart</h3>
  <label>Person <select id="admin_chart_person_select"></select></label>
  <label>Chart name <input id="admin_chart_name" /></label>
  <label>Description <input id="admin_chart_description" /></label>
  <label>Color <input id="admin_chart_color" type="color" value="#ffb74d" /></label>
  <label>Initial stars <input id="admin_chart_count" type="number" value="0" /></label>
  <label>Total goal <input id="admin_chart_total" type="number" value="10" /></label>
  <button id="admin_create_chart">Create Chart</button>
  <div id="admin_create_result" class="muted"></div>
    </section>

    <footer>
      <small>Made with a warm hearth and TypeScript — served by your local Axum server.</small>
    </footer>

    <!-- Event Details Modal -->
    <div id="event_modal" class="modal hidden">
      <div class="modal-content">
        <button id="event_modal_close" class="modal-close">&times;</button>
        <h3 id="event_modal_title">Event Details</h3>
        <div id="event_modal_body"></div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@event-calendar/build@5.3.1/dist/event-calendar.min.js"></script>
  <script src="/app.js" type="module"></script>
</body>
</html>
